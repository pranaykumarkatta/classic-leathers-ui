<html>
<head>
    <title>Classic Leathers</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <style>
     .classicTheamColor {
        background-image: linear-gradient(to bottom , #ecf6ff, #99d8ea91);
     }
     .header_div{
        padding: 15px;
        border-radius:10px;
        border-bottom: 2px solid #a7a8ab;
     }
     .header_div img{
        width:15%;
     }
     .menu_div{
        width:80%;
        float:right;
        margin-top:1.5%;
        text-align: right;
     }
     .menu_div label{
        font-weight:900;
        float: left;
        padding-left: 23%;
        margin-top:0.8%;
     }
     .menu_div a{
        font-weight:700;
     }
      .working_div{
        height:75%;
        overflow: auto;
      }
      .table-font{
         font-size:12px;
       }
      .text_input_width {
         width:90px;
       }
       .number_input_width {
         width:30px;
       }
       .table tbody tr th{
        padding:2px;
       }
    </style>

    <script>
      var app = angular.module("classicLeathers", []);
      app.controller("retailController", function($scope,$http) {
            var showSalesData = false;

<!----------------------------------------SALES----------------------------------------------------------------------------->
            $scope.genderList = ["MALE", "FEMALE"];
            $scope.categoryList = ["NA","LFXOT01","LFXOT02","LFXOT03","LFXOT04","LFXOT05","LFXOT06","LFXOT07","LFXOT08","LFBIN03","LFBOT01","LFBOT02","LFPOT01","S1","S2","W3","W4","W5","W6","W7","W7R","W8","W9","W10","W11","W12","W13","W14","A01","A02","A03","KV","KC","D21","WLT5","WLT6","WLT7","WLT8","WLT9","WLT10","BLT5","BLT6","BLT7","BLT8","BLT9","LAB3","LAB4","LHB1","LHB2","LHB3","LHB4","OTTO SINGLE","OTTO WEEKLY"];
            $scope.sizeList = ["NA","35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47"];
            $scope.mopList = ["CASH","G-PAY","SWIPE"];
            $scope.employeeList = ["PRANAY","KRISHNA","PRASAD","RAJU","MANI"];
            $scope.saveSalesEntry = function() {
                var data={"customerName": $scope.customerName,
                          "gender": $scope.gender,
                          "mobileNumber": $scope.mobileNumber,
                          "productDetails": $scope.productDetails,
                          "quantity": $scope.quantity,
                          "size": $scope.size,
                          "mrp": $scope.mrp,
                          "discount": $scope.discount,
                          "salePrice": $scope.mrp-$scope.discount,
                          "modeOfPayment": $scope.mop,
                          "cashPayment": $scope.cashPayment,
                          "gPayPayment": $scope.gPayPayment,
                          "swipePayment": $scope.swipePayment,
                          "updatedBy": $scope.updatedBy,
                          "category": $scope.category
                };
                var headers = { 'content-type': 'application/json'}
                $http.post('http://localhost:8080/retailSalesReport',data,{})
                .then(data => {
                        // data received by server
                          window.location.reload();
                })
                .catch(error => {
                        console.log(error.value);
                });
            };



            $http({method: 'GET', url: 'http://localhost:8080/retailSalesReport'})
            .then(function successCallback(response) {
					$scope.salesEntryList=response.data;
					var total=0;
					var cashTotal=0;
					for(var i = 0, size = response.data.length; i < size ; i++){
                        var item = response.data[i];
                        total +=  Number(item.salePrice);
                        cashTotal +=  Number(item.cashPayment);
                    }
                    $scope.totalBusiness=total;
                    $scope.totalCashBusiness=cashTotal;
                },function errorCallback(response) {
					console.log(error.value);
                }
            );
<!----------------------------------------SALES----------------------------------------------------------------------------->
      });









    </script>
</head>
<body class="classicTheamColor" ng-app="classicLeathers">

<div class="header_div">
    <img class="images" src="./classic_logo.png"/>
    <div class="menu_div container">
        <label class="welcome_label">RETAIL STORE TIRUPATI</label>
<!--        <a href="D:\WORKSPACE\classic-leathers-ui\ClassicLeathersMenu.html" class="btn btn-primary">Home</a>-->
<!--        <a href="D:\WORKSPACE\classic-leathers-ui\ClassicLeathersTimeSheet.html" class="btn btn-primary">Time-->
<!--            Sheet</a>-->
        <a href="" class="btn btn-primary">Home</a>
        <a href="" class="btn btn-primary">Time Sheet</a>
        <a href="" class="btn btn-primary">Expense</a>
    </div>
</div>
<div ng-controller="retailController">
    <div class="working_div container">
        <p>Business Total / Cash / Online: {{totalBusiness}} / {{totalCashBusiness}} /
            {{totalBusiness-totalCashBusiness}}</p>
        <table class="table table-font">
            <tr>
                <th>Customer Name</th>
                <th>Gender</th>
                <th>Mobile Number</th>
                <th>Category</th>
                <th>Product Details</th>
                <th>Quantity</th>
                <th>Size</th>
                <th>MRP</th>
                <th>Discount</th>
                <th>Sale Price</th>
                <th>MOP</th>
                <th>Cash</th>
                <th>G-Pay</th>
                <th>Swipe</th>
                <th>Updated By</th>
                <th>Date</th>
            </tr>
            <tr>
                <th><input type="text" ng-model="customerName" class="text_input_width"></th>
                <th>
                    <select ng-model="gender" ng-options="x for x in genderList"></select>
                </th>
                <th><input type="text" ng-model="mobileNumber" class="text_input_width"></th>
                <th>
                    <select ng-model="category" ng-options="x for x in categoryList"></select>
                </th>
                <th><input type="text" ng-model="productDetails" class="text_input_width"></th>
                <th><input type="text" ng-model="quantity" class="number_input_width"></th>
                <th>
                    <select ng-model="size" ng-options="x for x in sizeList"></select>
                </th>
                <th><input type="text" ng-model="mrp" class="number_input_width"></th>
                <th><input type="text" ng-model="discount" class="number_input_width"></th>
                <th><span>{{mrp-discount}} </span></th>
                <th>
                    <select ng-model="mop" ng-options="x for x in mopList"></select>
                </th>
                <th><input type="text" ng-model="cashPayment" class="number_input_width"></th>
                <th><input type="text" ng-model="gPayPayment" class="number_input_width"></th>
                <th><input type="text" ng-model="swipePayment" class="number_input_width"></th>
                <th>
                    <select ng-model="updatedBy" ng-options="x for x in employeeList"></select>
                </th>
                <th><input type="button" ng-click="saveSalesEntry()" value="save"
                           class="text_input_width btn btn-primary">
                </th>
            </tr>
            <tr ng-repeat="salesEntry in salesEntryList">
                <td>{{salesEntry.customerName}}</td>
                <td>{{salesEntry.gender}}</td>
                <td>{{salesEntry.mobileNumber}}</td>
                <td>{{salesEntry.category}}</td>
                <td>{{salesEntry.productDetails}}</td>
                <td>{{salesEntry.quantity}}</td>
                <td>{{salesEntry.size}}</td>
                <td>{{salesEntry.mrp}}</td>
                <td>{{salesEntry.discount}}</td>
                <td>{{salesEntry.salePrice}}</td>
                <td>{{salesEntry.modeOfPayment}}</td>
                <td>{{salesEntry.cashPayment}}</td>
                <td>{{salesEntry.gPayPayment}}</td>
                <td>{{salesEntry.swipePayment}}</td>
                <td>{{salesEntry.updatedBy}}</td>
                <td>{{salesEntry.saleDate}}</td>
            </tr>

        </table>
    </div>
</div>
</body>
</html>
